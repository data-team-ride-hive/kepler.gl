<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [visStateUpdaters][1]
    -   [addFilterUpdater][3]
    -   [addLayerUpdater][5]
    -   [applyCPUFilterUpdater][7]
    -   [enlargeFilterUpdater][9]
    -   [interactionConfigChangeUpdater][11]
    -   [layerClickUpdater][13]
    -   [layerHoverUpdater][15]
    -   [layerTypeChangeUpdater][17]
    -   [layerVisConfigChangeUpdater][19]
    -   [layerVisualChannelChangeUpdater][21]
    -   [loadFilesErrUpdater][23]
    -   [loadFilesUpdater][25]
    -   [mapClickUpdater][27]
    -   [receiveMapConfigUpdater][29]
    -   [removeDatasetUpdater][31]
    -   [removeFilterUpdater][33]
    -   [removeLayerUpdater][35]
    -   [reorderLayerUpdater][37]
    -   [resetMapConfigUpdater][39]
    -   [setFilterPlotUpdater][41]
    -   [setFilterUpdater][43]
    -   [setMapInfoUpdater][45]
    -   [showDatasetTableUpdater][47]
    -   [toggleFilterAnimationUpdater][49]
    -   [toggleLayerForMapUpdater][51]
    -   [toggleSplitMapUpdater][53]
    -   [updateAnimationTimeUpdater][55]
    -   [updateFilterAnimationSpeedUpdater][57]
    -   [updateLayerAnimationSpeedUpdater][59]
    -   [updateLayerBlendingUpdater][61]
    -   [updateVisDataUpdater][63]

## visStateUpdaters

Updaters for `visState` reducer. Can be used in your root reducer to directly modify kepler.gl's state.
Read more about [Using updaters][65]

**Examples**

```javascript
import keplerGlReducer, {visStateUpdaters} from 'kepler.gl/reducers';
// Root Reducer
const reducers = combineReducers({
 keplerGl: keplerGlReducer,
 app: appReducer
});

const composedReducer = (state, action) => {
 switch (action.type) {
   case 'CLICK_BUTTON':
     return {
       ...state,
       keplerGl: {
         ...state.keplerGl,
         foo: {
            ...state.keplerGl.foo,
            visState: visStateUpdaters.enlargeFilterUpdater(
              state.keplerGl.foo.visState,
              {idx: 0}
            )
         }
       }
     };
 }
 return reducers(state, action);
};

export default composedReducer;
```

### addFilterUpdater

Add a new filter

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.dataId` **[string][67]** dataset `id` this new filter is associated with

Returns **[Object][66]** nextState

### addLayerUpdater

Add a new layer

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.props` **[Object][66]** new layer props

Returns **[Object][66]** nextState

### applyCPUFilterUpdater

When select dataset for export, apply cpu filter to selected dataset

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** 
    -   `action.dataId` **[string][67]** dataset id

Returns **[Object][66]** nextState

### enlargeFilterUpdater

Show larger time filter at bottom for time playback (apply to time filter only)

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** index of filter to enlarge

Returns **[Object][66]** nextState

### interactionConfigChangeUpdater

Update `interactionConfig`

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.config` **[Object][66]** new config as key value map: `{tooltip: {enabled: true}}`

Returns **[Object][66]** nextState

### layerClickUpdater

Trigger layer click event with clicked object

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.info` **[Object][66]** Object clicked, returned by deck.gl

Returns **[Object][66]** nextState

### layerHoverUpdater

Trigger layer hover event with hovered object

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.info` **[Object][66]** Object hovered, returned by deck.gl

Returns **[Object][66]** nextState

### layerTypeChangeUpdater

Update layer type. Previews layer config will be copied if applicable.

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.oldLayer` **[Object][66]** layer to be updated
    -   `action.newType` **[string][67]** new type

Returns **[Object][66]** nextState

### layerVisConfigChangeUpdater

Update layer `visConfig`

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.oldLayer` **[Object][66]** layer to be updated
    -   `action.newVisConfig` **[Object][66]** new visConfig as a key value map: e.g. `{opacity: 0.8}`

Returns **[Object][66]** nextState

### layerVisualChannelChangeUpdater

Update layer visual channel

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.oldLayer` **[Object][66]** layer to be updated
    -   `action.newConfig` **[Object][66]** new visual channel config
    -   `action.channel` **[string][67]** channel to be updated

Returns **[Object][66]** nextState

### loadFilesErrUpdater

Trigger loading file error

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.error` **any** 

Returns **[Object][66]** nextState

### loadFilesUpdater

Trigger file loading dispatch `addDataToMap` if succeed, or `loadFilesErr` if failed

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.files` **[Array][69]&lt;[Object][66]>** array of fileblob
    -   `action.onFinish` **[Function][70]** action creator to execute after load file succeed

Returns **[Object][66]** nextState

### mapClickUpdater

Trigger map click event, unselect clicked object

**Parameters**

-   `state` **[Object][66]** `visState`

Returns **[Object][66]** nextState

### receiveMapConfigUpdater

Propagate `visState` reducer with a new configuration. Current config will be override.

-   **Action**: [`receiveMapConfig`][71]

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.payload` **[Object][66]** map config to be propagated
        -   `action.payload.config` **[Object][66]** map config to be propagated
        -   `action.payload.option` **[Object][66]** {keepExistingConfig: true | false}
    -   `action.payload.config`   (optional, default `{}`)
    -   `action.payload.options`   (optional, default `{}`)

Returns **[Object][66]** nextState

### removeDatasetUpdater

Remove a dataset and all layers, filters, tooltip configs that based on it

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.key` **[string][67]** dataset id

Returns **[Object][66]** nextState

### removeFilterUpdater

Remove a filter

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** index of filter to b e removed

Returns **[Object][66]** nextState

### removeLayerUpdater

remove layer

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** index of layer to b e removed

Returns **[Object][66]** nextState

### reorderLayerUpdater

Reorder layer

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.order` **[Array][69]&lt;[Number][68]>** an array of layer indexes

Returns **[Object][66]** nextState

### resetMapConfigUpdater

reset visState to initial State

-   **Action**: [`resetMapConfig`][72]

**Parameters**

-   `state` **[Object][66]** `visState`

Returns **[Object][66]** nextState

### setFilterPlotUpdater

Set the property of a filter plot

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** 
    -   `action.newProp` **[Object][66]** key value mapping of new prop `{yAxis: 'histogram'}`

Returns **[Object][66]** nextState

### setFilterUpdater

Update filter property

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** `idx` of filter to be updated
    -   `action.prop` **[string][67]** `prop` of filter, e,g, `dataId`, `name`, `value`
    -   `action.value` **any** new value
-   `datasetId` **[string][67]** used when updating a prop (dataId, name) that can be linked to multiple datasets

Returns **[Object][66]** nextState

### setMapInfoUpdater

User input to update the info of the map

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.info` **[Object][66]** {title: 'hello'}

Returns **[Object][66]** nextState

### showDatasetTableUpdater

Display dataset table in a modal

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.dataId` **[string][67]** dataset id to show in table

Returns **[Object][66]** nextState

### toggleFilterAnimationUpdater

Start and end filter animation

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** idx of filter

Returns **[Object][66]** nextState

### toggleLayerForMapUpdater

Toggle visibility of a layer in a split map

**Parameters**

-   `state` **[Object][66]** 
-   `action` **[Object][66]** 
    -   `action.mapIndex` **[Number][68]** index of the split map
    -   `action.layerId` **[string][67]** id of the layer

Returns **[Object][66]** nextState

### toggleSplitMapUpdater

Toggle visibility of a layer for a split map

-   **Action**: [`toggleSplitMap`][73]

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.payload` **([Number][68] \| [undefined][74])** index of the split map

Returns **[Object][66]** nextState

### updateAnimationTimeUpdater

Reset animation config current time to a specified value

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.value` **[Number][68]** the value current time will be set to

Returns **[Object][66]** nextState

### updateFilterAnimationSpeedUpdater

Change filter animation speed

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.idx` **[Number][68]** `idx` of filter
    -   `action.speed` **[Number][68]** `speed` to change it to. `speed` is a multiplier

Returns **[Object][66]** nextState

### updateLayerAnimationSpeedUpdater

Update animation speed with the vertical speed slider

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.speed` **[Number][68]** the updated speed of the animation

Returns **[Object][66]** nextState

### updateLayerBlendingUpdater

update layer blending mode

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.mode` **[string][67]** one of `additive`, `normal` and `subtractive`

Returns **[Object][66]** nextState

### updateVisDataUpdater

Add new dataset to `visState`, with option to load a map config along with the datasets

**Parameters**

-   `state` **[Object][66]** `visState`
-   `action` **[Object][66]** action
    -   `action.datasets` **([Array][69]&lt;[Object][66]> | [Object][66])** **\*required** datasets can be a dataset or an array of datasets
        Each dataset object needs to have `info` and `data` property.
        -   `action.datasets.info` **[Object][66]** \-info of a dataset
            -   `action.datasets.info.id` **[string][67]** id of this dataset. If config is defined, `id` should matches the `dataId` in config.
            -   `action.datasets.info.label` **[string][67]** A display name of this dataset
        -   `action.datasets.data` **[Object][66]** **\*required** The data object, in a tabular format with 2 properties `fields` and `rows`
            -   `action.datasets.data.fields` **[Array][69]&lt;[Object][66]>** **\*required** Array of fields,
                -   `action.datasets.data.fields.name` **[string][67]** **\*required** Name of the field,
            -   `action.datasets.data.rows` **[Array][69]&lt;[Array][69]>** **\*required** Array of rows, in a tabular format with `fields` and `rows`
    -   `action.options` **[Object][66]** option object `{centerMap: true, keepExistingConfig: false}`
    -   `action.config` **[Object][66]** map config

Returns **[Object][66]** nextState

[1]: #visstateupdaters

[2]: #examples

[3]: #addfilterupdater

[4]: #parameters

[5]: #addlayerupdater

[6]: #parameters-1

[7]: #applycpufilterupdater

[8]: #parameters-2

[9]: #enlargefilterupdater

[10]: #parameters-3

[11]: #interactionconfigchangeupdater

[12]: #parameters-4

[13]: #layerclickupdater

[14]: #parameters-5

[15]: #layerhoverupdater

[16]: #parameters-6

[17]: #layertypechangeupdater

[18]: #parameters-7

[19]: #layervisconfigchangeupdater

[20]: #parameters-8

[21]: #layervisualchannelchangeupdater

[22]: #parameters-9

[23]: #loadfileserrupdater

[24]: #parameters-10

[25]: #loadfilesupdater

[26]: #parameters-11

[27]: #mapclickupdater

[28]: #parameters-12

[29]: #receivemapconfigupdater

[30]: #parameters-13

[31]: #removedatasetupdater

[32]: #parameters-14

[33]: #removefilterupdater

[34]: #parameters-15

[35]: #removelayerupdater

[36]: #parameters-16

[37]: #reorderlayerupdater

[38]: #parameters-17

[39]: #resetmapconfigupdater

[40]: #parameters-18

[41]: #setfilterplotupdater

[42]: #parameters-19

[43]: #setfilterupdater

[44]: #parameters-20

[45]: #setmapinfoupdater

[46]: #parameters-21

[47]: #showdatasettableupdater

[48]: #parameters-22

[49]: #togglefilteranimationupdater

[50]: #parameters-23

[51]: #togglelayerformapupdater

[52]: #parameters-24

[53]: #togglesplitmapupdater

[54]: #parameters-25

[55]: #updateanimationtimeupdater

[56]: #parameters-26

[57]: #updatefilteranimationspeedupdater

[58]: #parameters-27

[59]: #updatelayeranimationspeedupdater

[60]: #parameters-28

[61]: #updatelayerblendingupdater

[62]: #parameters-29

[63]: #updatevisdataupdater

[64]: #parameters-30

[65]: ../advanced-usage/using-updaters.md

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[67]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[68]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[69]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[71]: ../actions/actions.md#receivemapconfig

[72]: ../actions/actions.md#resetmapconfig

[73]: ../actions/actions.md#togglesplitmap

[74]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined
